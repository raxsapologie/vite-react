<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRYNOS OMNI-COMMAND v3.0</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; background: #000; color: #fff; font-family: 'Inter', sans-serif; height: 100vh; display: flex; align-items: center; justify-content: center; }
        #root { width: 100%; height: 100%; }
        .loading-text { color: #00F2FF; font-family: monospace; letter-spacing: 2px; }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading-text">INITIALISATION KRYNOS...</div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { BarChart3, Users, Folder, Settings, Plus, Trash2, Power, HardDrive, Shield, Terminal, Upload, File, Download, X, Lock, LogOut, User, Activity, Clock } = lucide;

        // --- TON CODE v3.0 INTÉGRAL ---
        function App() {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [currentUser, setCurrentUser] = useState(null);
            const [authForm, setAuthForm] = useState({ username: '', password: '' });
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [projects, setProjects] = useState([]);
            const [team, setTeam] = useState([]);
            const [files, setFiles] = useState([]);
            const [logs, setLogs] = useState([]);
            const [webhook, setWebhook] = useState('');
            const [modals, setModals] = useState({ project: false, member: false });
            const [forms, setForms] = useState({ project: { name: '', desc: '', progress: 0 }, member: { name: '', role: '', status: 'active' } });
            const [termData, setTermData] = useState({ input: '', output: ['> KRYNOS Intelligence Hub Online', '> Type "help" for protocols'] });

            useEffect(() => {
                const load = (k, d = '[]') => JSON.parse(localStorage.getItem(`k3_${k}`) || d);
                setProjects(load('projects')); setTeam(load('team')); setFiles(load('files')); setLogs(load('logs'));
                setWebhook(localStorage.getItem('k3_webhook') || '');
                const s = localStorage.getItem('k3_session');
                if (s) { setIsAuthenticated(true); setCurrentUser(JSON.parse(s)); }
            }, []);

            const handleLogin = (e) => {
                e.preventDefault();
                if (authForm.username && authForm.password === 'krynos2026') {
                    const u = { name: authForm.username };
                    setIsAuthenticated(true); setCurrentUser(u);
                    localStorage.setItem('k3_session', JSON.stringify(u));
                } else { alert("ACCESS DENIED"); }
            };

            if (!isAuthenticated) return (
                <div style={{ height: '100vh', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#050505' }}>
                    <form onSubmit={handleLogin} style={{ background: '#0D0D0E', padding: '40px', borderRadius: '16px', border: '1px solid #1F1F21', width: '320px', textAlign: 'center' }}>
                        <Shield size={48} color="#00F2FF" style={{ marginBottom: '20px' }} />
                        <h2 style={{ color: '#FFF', marginBottom: '25px' }}>KRYNOS AUTH</h2>
                        <input type="text" placeholder="Username" style={{ width: '100%', padding: '12px', background: '#000', border: '1px solid #222', color: '#FFF', marginBottom: '10px' }} onChange={e=>setAuthForm({...authForm, username: e.target.value})}/>
                        <input type="password" placeholder="Passkey" style={{ width: '100%', padding: '12px', background: '#000', border: '1px solid #222', color: '#FFF', marginBottom: '20px' }} onChange={e=>setAuthForm({...authForm, password: e.target.value})}/>
                        <button type="submit" style={{ width: '100%', padding: '12px', background: '#00F2FF', border: 'none', borderRadius: '8px', fontWeight: 'bold' }}>ENTER</button>
                    </form>
                </div>
            );

            return (
                <div style={{ display: 'flex', height: '100vh', background: '#050505' }}>
                    <aside style={{ width: '260px', background: '#0D0D0E', borderRight: '1px solid #1F1F21', padding: '30px 20px' }}>
                        <div style={{ color: '#00F2FF', fontWeight: 800, fontSize: '22px', marginBottom: '40px' }}><Shield size={24}/> KRYNOS</div>
                        <nav style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
                            {['dashboard', 'projects', 'team', 'storage', 'terminal'].map(p => (
                                <button key={p} onClick={()=>setCurrentPage(p)} style={{ padding: '12px', background: currentPage===p?'#161618':'transparent', border: 'none', color: currentPage===p?'#00F2FF':'#888', borderRadius: '8px', textAlign: 'left', cursor: 'pointer', textTransform: 'capitalize' }}>{p}</button>
                            ))}
                        </nav>
                    </aside>
                    <main style={{ flex: 1, padding: '40px', overflowY: 'auto' }}>
                        <h1 style={{ textTransform: 'capitalize' }}>{currentPage}</h1>
                        <div style={{ background: '#161618', padding: '20px', borderRadius: '12px', border: '1px solid #262629' }}>
                            Système KRYNOS v3.0 Opérationnel sur Vercel.
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
